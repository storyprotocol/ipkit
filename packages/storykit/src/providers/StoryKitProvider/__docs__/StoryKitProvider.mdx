import { Canvas, Controls, Meta } from "@storybook/blocks"

import * as StoryKitProviderStory from "./StoryKitProvider.stories"

<Meta of={StoryKitProviderStory} title="Providers/StoryKitProvider" />

# StoryKitProvider

{/* The IP Provider is the core of StoryKit, by passing it an IP Asset ID it provides IP Asset data to children components. */}

#### Example

<Canvas of={StoryKitProviderStory.Default} />

<Controls />

## Usage

```ts
// wrap your app with the StoryKitProvider

import { StoryKitProvider } from "@story-protocol/ipkit"
import ExampleComponent from './ExampleComponent'

const ExampleApp = () => {
  return (
    <StoryKitProvider
      apiKey={API_KEY}
      isTestnet={true}
    >
      <ExampleComponent />
    </StoryKitProvider>
  );
};

export default ExampleApp;
```

```ts
import { useStoryKitContext } from "@story-protocol/ipkit"

const ExampleComponent = () => {

  const { defaultCurrency, chain } = useStoryKitContext()

  return (
    <div className="flex flex-col bg-background">
      <div className="text-sm text-foreground">name: {chain.name}</div>
      <div className="text-sm text-foreground">currency name: {defaultCurrency.name}</div>
      ...
    </div>
  );
};

export default ExampleComponent;
```

#### Provider data

The StoryKitProvider provides the following data to its children:

- **apiBaseUrl** - The base url for api endpoints.
- **apiClient** - [openapi-fetch](https://openapi-ts.dev/openapi-fetch/) client
- **apiKey** - The users API key, passed in as a StoryKitProvider prop
- **appId** - The users app Id, currently not required.
- **chain** - the Story Chain config as defined in [chains.ts](https://github.com/storyprotocol/storykit/blob/main/packages/storykit/src/constants/chains.ts)
- **mode** - The style mode, 'light', 'dark' or undefined, will default to system if none provided
- **theme** - The style theme, 'default' if none provided
- **themeClass** - The theme class to use if user wants to overwrite the theme mode

#### Arguments

- **apiKey** - The API key to use, defaults to undefined. This is required.
- **appId** - The appId to use, defaults to undefined.
- **children** - The child component to provide the IP Asset context to.
- **isTestnet** - Set true for Aeneid Testnet, defaults to Story Mainnet.
- **mode** - 'light' and 'dark' mode, undefined defaults to system preference
- **theme** - The style theme to use, defaults to 'default'
